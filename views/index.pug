extends layout.pug
include mixins/_tableRow.pug

block defectBar
  h2 Defect Criterion Pareto Chart
  br/
  div#paretoChart
  script.
    const top10data = !{JSON.stringify(defects)}.slice(0,-1);
    BarChart(top10data, 'paretoChart', {
      x: d => d.dppm,
      y: d => d.defectname,
      yDomain: top10data.map(d => d.defectname),
      height: 400,
      marginLeft: 100,
      xLabel: "dppm in the last 7 operation days",
      color: "steelblue"
    });

block defectTable
    table.table.table-striped.table-hover
      thead
        tr
          th Defect criteria
          th Quantity
          th DPPM
        tbody
          each row in defects
            +tableRow(row)
        tfoot
          tr
            th(colspan='6')